<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.fly.client.place.dao.ClientPlaceDao">

	<!-- 구장별 경기장 select -->
	<select id="stadiumList" resultType="stadium">
		select s_name
		from place p, stadium s
		where p.p_num = s.p_num and p_name = #{p_name}
	</select>
	
	<!-- 구장 리스트 출력 -->
	<select id ="placeList" resultType="place">
		SELECT
		p_num, p_name, p_phone, p_ceo, p_address, p_phone, p_ok
		FROM place
	</select>
	
	<!-- 구장 등록 -->
	<insert id ="placeInsert" parameterType="place">
		INSERT INTO place(
			 p_num, m_id, p_name, p_ceo, p_phone, p_address, p_bank, p_account, p_account_num, p_open, p_close,  p_file, p_register, p_account_copy, p_property, p_status, p_holiday_start, p_holiday_end, p_ok, p_ok_date, p_intro, p_regdate, p_holiday
		)
		VALUES(
			#{p_num}
		   ,#{m_id}
		   ,#{p_name}
		   ,#{p_ceo}
		   ,#{p_phone}
		   ,#{p_address}
		   ,#{p_bank}
		   ,#{p_account}
		   ,#{p_account_num}
		   ,#{p_open}
		   ,#{p_close}
		   ,#{p_file}
		   ,#{p_register, jdbcType=VARCHAR}
		   ,#{p_account_copy, jdbcType=VARCHAR}
		   ,#{p_property, jdbcType=VARCHAR}
		   ,#{p_status}
		   ,SYSDATE
		   ,SYSDATE
		   ,#{p_ok}
		   ,SYSDATE
		   ,#{p_intro, jdbcType=VARCHAR}
		   ,SYSDATE
		   ,#{p_holiday}
		)
	</insert>
	
	<!-- <select id="searchRentalList" parameterType="String" resultType="place">
		select m.m_name, m.m_phone, (r.r_reserve_date + r.r_start + r.r_end), ir.r_no
		from member m, rental r, items_rental ir
		where m.m_id = r.m_id and r.r_no = ir.r_no;
	</select> -->

</mapper>